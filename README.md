# Youtube AI Shorts Maker

## Showcase
Watch our AI-generated videos on [YouTube](https://www.youtube.com/channel/UCe9WDr3LCEiej97IgFptQ8A).

## Overview
This pipeline automates the creation of YouTube videos. It generates content by combining images with voiceovers, applying panning and zooming effects, and adding background music. The entire process, including video uploads to YouTube, is automated. Users need to provide necessary tokens for API access. The installation process is intentionally made less straightforward to discourage mass video generation and potential YouTube spam.

**Note**: While the project is currently not economically feasible for large-scale operations (each video costs approximately $1 to generate), it has shown promise with an excellent like-to-dislike ratio on all videos.

## Technology Stack

### Components
1. **Firebase Functions** (TypeScript)
2. **Google Storage**
3. **OpenAI's GPT-4 API**: For text completion
4. **OpenAI's Dall-e 3 API**: For image generation
5. **Elevenlabs API**: For voice generation
6. **FFMPEG**: For video editing
7. **YouTube API**: For video uploads

### Workflow
1. **Local Firebase Emulation**: Currently, Firebase functions are run locally, but future deployment is possible. This setup includes functions and Google Storage emulation.
2. **Video Idea Processing**: A list of video ideas is sequentially processed.
3. **Script Generation with GPT-4**: Each video script is generated by GPT-4, defining "scenes" with specific image prompts and voiceover texts. 
   - Image prompts are sent to Dall-e 3 for visual content creation, saved to Google Storage.
   - Voiceover lines are processed through Elevenlabs to create audio files, also saved to Google Storage.
4. **Video Assembly with FFMPEG**: Individual video segments are created for each scene.
5. **Final Video Compilation**: Segments are stitched together, and random music (from a local or Google Storage-linked library) is added.
6. **Video Storage**: The complete video is stored in cloud storage.
7. **YouTube Upload**: Utilizing YouTube credentials, the video is uploaded to the channel via API.

## Installation Guide
1. **Repository Setup**: Clone the GitHub repository.
2. **Secrets Configuration**: Create a `secrets.json` file in the `/functions` folder. Populate it with the necessary API keys and tokens as outlined below.
3. **Firebase Initialization**: Execute `SetupLocally.bat` to set up Firebase locally.
4. **Recompilation**: Run `RunCompiler.bat` for changes to take effect. Note: Recompilation does not interrupt ongoing processes but requires a restart for new changes.
5. **Google Authentication**: 
   - Temporarily comment out `mainGenerateFunction()` and enable `getAccessToken(oAuth2Client)` in the code.
   - Run `RunLocally.bat` and authenticate via the provided console link. Copy the auth code from the redirect URL into `secrets.json` as `googleCode`.
6. **YouTube Token Generation**: 
   - Switch back to `getYoutubeCredentials();` in the code.
   - Execute to generate `tokens.json` in the `/functions` folder.
7. **Start Video Generation**: 
   - Enable `mainGenerateFunction();` and run the script. The video generation process should start post-recompilation.
   - Ensure all emulators are restarted if changes are made during the generation process.
8. **Monitor Output**: Check your YouTube channel for the newly uploaded videos.

### Secrets File Structure
Use this template for your `secrets.json` file. Fill in the corresponding values for each key.

```json
{
    "apiKeyGPT": "[Your_OpenAI_API_Key]",
    "voiceModelID": "[Your_Elevenlabs_Voice_Model_ID]",
    "xiApiKey": "[Your_Elevenlabs_API_Key]",
    "clientId": "[Your_Google_Client_ID]",
    "clientSecret": "[Your_Google_Client_Secret]",
    "googleCode": "[Your_Google_OAuth_Code]",
    "bucket": "[Your_Google_Storage_Bucket_Name]"
}
```

**Deprecated Fields** (for Midjourney API, no longer in use):
* `midjourneyURL`
* `midjourneyURLChange`
* `midjourneyURLTask`
* `midjourneyURLQueue`
